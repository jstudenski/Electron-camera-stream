<head>
  <link href="style/style.css" rel="stylesheet">
</head>
<body>
  
  <div id="refresh" onclick="sendSignal('refresh:btn')">Refresh<!-- <img src="images/refresh.png"> --></div>
  <div id="devTools" onclick="sendSignal('devTools:btn')">Inspector<!-- <img src="images/wrench.png"> --></div>
  <div id="addTask" onclick="sendSignal('addTask:btn')">Add Task<!-- <img src="images/plus.png"> --></div>
  <div id="clear" onclick="clearTodos()">Clear List<!-- <img src="images/eraser.png"> --></div>
  <div id="showfiles" onclick="sendSignal('showfiles:btn')">Files<!-- <p>files</p> --></div>
  <div id="capture" onclick="sendSignal('capture:btn')">Take Pic<!-- <p>cam</p> --></div>

<br>
  <h2></h2>
  <ul>
  </ul>


  <script>
    // require electron and ipcRenderer
    const electron = require('electron');
    const {ipcRenderer } = electron;
    const list = document.querySelector('ul');
    // listen for todo:add from Electron App
    ipcRenderer.on('todo:add', (event, todo) => {
      const li = document.createElement('li');
      const text = document.createTextNode(todo);
      li.appendChild(text);
      list.appendChild(li);
    });

    // listen for todo:clear from Electron App
    ipcRenderer.on('todo:clear', (event, todo) => {
      clearTodos();
    });


    var files = []
    // listen for showfiles:btn from Electron App
    ipcRenderer.on('showfiles:btn', (event, array) => {
      files = array;

      clearTodos();
      for (var i in array) {
        const li = document.createElement('li');
        const text = document.createTextNode(files[i].filename);
        li.appendChild(text);
        list.appendChild(li);
      }

    });


    document.getElementById('clear').addEventListener ('click', (event) => {
      clearTodos();
    });


    function clearTodos() {
      list.innerHTML = '';
    }

    function sendSignal(signal) {
      ipcRenderer.send(signal)
    }



  </script>
</body>